# Islamic Text Workflow - Docker Environment Configuration
# Enhanced with infrastructure/docker optimization patterns

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================

# Supabase Configuration (Required)
SUPABASE_URL=https://aayvvcpxafzhcjqewwja.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFheXZ2Y3B4YWZ6aGNqcWV3d2phIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NjQ2Nzc1NCwiZXhwIjoyMDYyMDQzNzU0fQ.PHNLmAb0-jzy0CGl3ThVdgXZkAGTBWLxC5O-RDgp_yQ

# NOTE: ANTHROPIC_API_KEY removed - conflicts with claude-docker session-based authentication patterns

# =============================================================================
# CLAUDE-DOCKER INTEGRATION SETTINGS (claude-docker pattern)
# =============================================================================

# User Configuration (claude-docker pattern)
USER_UID=1001
USER_GID=1001

# Build Configuration
NODE_ENV=production
BUILD_TARGET=runtime

# Network Configuration
EXTERNAL_API_ENABLED=true
AGENT_NETWORK_ISOLATION=true

# Resource Management (claude-docker pattern)
DEFAULT_CPU_LIMIT=1.0
DEFAULT_MEMORY_LIMIT=1024M
DEFAULT_CPU_RESERVATION=0.25
DEFAULT_MEMORY_RESERVATION=256M

# Session Management (claude-docker pattern)
CLAUDE_CONTINUE_FLAG=
DEBUG=false

# =============================================================================
# AGENT SPECIFIC CONFIGURATION
# =============================================================================

# Flowchart Mapper Agent
FLOWCHART_AGENT_PORT=3001
FLOWCHART_AGENT_NAME=flowchart_mapper

# Metadata Hunter Agent  
METADATA_AGENT_PORT=3003
METADATA_AGENT_NAME=metadata_hunter

# Network Mapper Agent
NETWORK_AGENT_PORT=3002  
NETWORK_AGENT_NAME=network_mapper

# Content Synthesizer Agent
SYNTHESIS_AGENT_PORT=3004
SYNTHESIS_AGENT_NAME=content_synthesizer

# Data Pipeline Agent
PIPELINE_AGENT_PORT=3005
PIPELINE_AGENT_NAME=data_pipeline

# =============================================================================
# LOGGING AND MONITORING (from infrastructure/docker)
# =============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=30s

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
METRICS_COLLECTION_INTERVAL=60s

# =============================================================================
# SECURITY CONFIGURATION (from infrastructure/docker)
# =============================================================================

# Container Security
ENABLE_READ_ONLY_FILESYSTEM=true
ENABLE_NO_NEW_PRIVILEGES=true
ENABLE_CAPABILITY_DROPPING=true

# Network Security
ENABLE_NETWORK_ISOLATION=true
ALLOW_EXTERNAL_API_ACCESS=true

# Session Management
SESSION_TMPFS_SIZE=50m
TEMP_TMPFS_SIZE=100m

# =============================================================================
# CLAUDE CODE CLI CONFIGURATION
# =============================================================================

# Authentication Method
CLAUDE_AUTH_METHOD=env

# Operational Flags
CLAUDE_SKIP_PERMISSIONS=true  # Required for autonomous agents in containers
CLAUDE_OUTPUT_FORMAT=json
CLAUDE_PRINT_MODE=true

# Session Management
CLAUDE_SESSION_PERSISTENCE=true
CLAUDE_SESSION_TIMEOUT=300000  # 5 minutes

# =============================================================================
# DEVELOPMENT/DEBUG SETTINGS
# =============================================================================

# Debug Configuration (Development only)
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_REQUEST_LOGGING=true

# Development Ports (if different from production)
# FLOWCHART_AGENT_PORT=3001
# METADATA_AGENT_PORT=3003
# NETWORK_AGENT_PORT=3002
# SYNTHESIS_AGENT_PORT=3004
# PIPELINE_AGENT_PORT=3005